# LiveRadar Netlify 部署检查清单

## 🚀 部署前

- [x] 构建成功 (`npm run build`)
- [x] Git 仓库已初始化
- [x] `.gitignore` 已配置
- [x] `netlify.toml` 已配置

## ✅ 部署后验证

### 基础功能
- [ ] 页面能正常加载
- [ ] iPhone/移动端布局正常显示
- [ ] 控制按钮横向滚动正常
- [ ] 下雪特效开关正常

### 核心功能
- [ ] 添加房间功能正常（斗鱼/B站/Twitch）
- [ ] 实时刷新功能正常
- [ ] 离线玩家收藏按钮 ⭐ 金边显示/隐藏正常
- [ ] 通知推送功能正常
- [ ] yahaha 音效按钮正常

### API 功能（重点测试）
- [ ] 斗鱼房间数据能正常获取
- [ ] B站房间数据能正常获取
- [ ] Twitch 频道数据能正常获取（海外测试）
- [ ] 地区检测功能正常（国内/海外）

### 性能
- [ ] 首屏加载时间 < 3 秒
- [ ] Lighthouse 性能评分 > 80
- [ ] 移动端性能良好

## ⚠️ 已知限制

### CORS 代理
- 使用第三方公共代理（CodeTabs、AllOrigins 等）
- 可能存在速率限制
- 部分代理可能在某些地区不可用
- **建议**: 如需稳定性，考虑自建 Netlify Functions 代理

### 地区检测
- 使用 ipapi.co 免费 API
- 限制: 1000 次/天 (免费版)
- 超限后会回退到"海外"模式

### 音频功能
- iOS 需要用户手动触发音频解锁
- 首次播放需点击红点按钮激活

## 🔧 可选优化

### 性能优化
- [ ] 启用 Netlify CDN 加速
- [ ] 配置自定义域名
- [ ] 启用 HTTP/2 Server Push

### 监控
- [ ] 添加 Google Analytics
- [ ] 配置 Sentry 错误监控
- [ ] 设置 Netlify Analytics

### 备用方案
- [ ] 准备备用 CORS 代理列表
- [ ] 考虑 Cloudflare Workers 作为代理备份

## 📝 部署信息

**部署时间**: _____________________
**部署 URL**: _____________________
**Git Commit**: _____________________
**测试人员**: _____________________

---

## 🆘 常见问题

### API 请求失败
1. 检查浏览器控制台 Network 标签
2. 查看是否有 CORS 错误
3. 尝试切换不同的代理（代码会自动重试）
4. 检查目标平台 API 是否可访问

### 部署失败
1. 检查 Netlify 构建日志
2. 确认 `package.json` 中的 `build` 脚本正确
3. 确认 Node 版本 >= 18
4. 尝试本地 `npm run build` 验证

### 功能异常
1. 清除浏览器缓存和 LocalStorage
2. 检查控制台是否有 JavaScript 错误
3. 尝试隐私模式/无痕模式测试
4. 检查 Service Worker 缓存（如果启用）

---

**最后更新**: 2025-12-26
**版本**: LiveRadar v3.1.1
